In this lecture, we set up a complete local Kafka environment using Docker Compose.

We explain how Kafka, Zookeeper, and Kafka UI are started together with a single command, how to verify that the services are running, and how to access Kafka UI locally.

This setup becomes the local Kafka cluster used throughout the course for publishing and consuming events in our digital banking microservices.

docker-compose.yml file -

version: "3.8"

services:

zookeeper:

image: confluentinc/cp-zookeeper:7.5.0

container_name: local-zookeeper

environment:

ZOOKEEPER_CLIENT_PORT: 2181

ZOOKEEPER_TICK_TIME: 2000

ports:

- "2181:2181"

kafka:

image: confluentinc/cp-kafka:7.5.0

container_name: local-kafka

depends_on:

- zookeeper

ports:

- "9092:9092"

environment:

KAFKA_BROKER_ID: 1

KAFKA_ZOOKEEPER_CONNECT: "zookeeper:2181"

KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT

KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092

KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1

KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1

KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1

kafka-ui:

image: provectuslabs/kafka-ui:latest

container_name: local-kafka-ui

depends_on:

- kafka

ports:

- "8079:8080"

environment:

KAFKA_CLUSTERS_0_NAME: local

KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: kafka:29092

